
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>CLI usage &#8212; pysradb 0.6.0 documentation</title>
    <link rel="stylesheet" href="_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="Installation" href="installation.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pysradb 0.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Contents</h2>
    <div class="sidebar-localtoc">
      <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">pysradb</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CLI usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#conversions">Conversions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pysradb</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
</ul>

    </div>
  </div>
</div>
  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="usage.html"
                        title="next chapter">Usage</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cmdline.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="index.html">Docs</a></li>
              
              <li>CLI usage</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="cli-usage">
<h1>CLI usage<a class="headerlink" href="#cli-usage" title="Permalink to this headline">¶</a></h1>
<p>Getting metadata for a SRP id:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb sra-metadata --db data/SRAmetadb.sqlite SRP098789
study_accession experiment_accession run_accession
SRP098789       SRX2536403           SRR5227288
SRP098789       SRX2536404           SRR5227289
SRP098789       SRX2536405           SRR5227290
SRP098789       SRX2536406           SRR5227291
SRP098789       SRX2536407           SRR5227292
SRP098789       SRX2536408           SRR5227293
SRP098789       SRX2536409           SRR5227294
SRP098789       SRX2536410           SRR5227295
SRP098789       SRX2536411           SRR5227296
SRP098789       SRX2536412           SRR5227297
SRP098789       SRX2536413           SRR5227298
SRP098789       SRX2536414           SRR5227299
SRP098789       SRX2536415           SRR5227300
SRP098789       SRX2536416           SRR5227301
SRP098789       SRX2536417           SRR5227302
SRP098789       SRX2536418           SRR5227303
SRP098789       SRX2536419           SRR5227304
SRP098789       SRX2536420           SRR5227305
SRP098789       SRX2536421           SRR5227306
SRP098789       SRX2536422           SRR5227307
SRP098789       SRX2536423           SRR5227308
SRP098789       SRX2536424           SRR5227309
SRP098789       SRX2536425           SRR5227310
SRP098789       SRX2536426           SRR5227311
SRP098789       SRX2536427           SRR5227312
SRP098789       SRX2536428           SRR5227313
</pre></div>
</div>
<p>Listing SRX and SRRs for a SRP is often not useful. We might
want to take a quick look at the metadata associated with
the samples:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$  pysradb sra-metadata --db data/SRAmetadb.sqlite SRP098789 --desc
study_accession experiment_accession run_accession sample_attribute
SRP098789       SRX2536403           SRR5227288    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536404           SRR5227289    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536405           SRR5227290    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536406           SRR5227291    source_name: Huh7_0.3 Ã‚ÂµM PF-067446846_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536407           SRR5227292    source_name: Huh7_0.3 Ã‚ÂµM PF-067446846_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536408           SRR5227293    source_name: Huh7_0.3 Ã‚ÂµM PF-067446846_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536409           SRR5227294    source_name: Huh7_vehicle_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536410           SRR5227295    source_name: Huh7_vehicle_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536411           SRR5227296    source_name: Huh7_vehicle_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536412           SRR5227297    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536413           SRR5227298    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536414           SRR5227299    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536415           SRR5227300    source_name: Huh7_0.3 Ã‚ÂµM PF-067446846_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536416           SRR5227301    source_name: Huh7_0.3 Ã‚ÂµM PF-067446846_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536417           SRR5227302    source_name: Huh7_0.3 Ã‚ÂµM PF-067446846_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536418           SRR5227303    source_name: Huh7_vehicle_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536419           SRR5227304    source_name: Huh7_vehicle_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536420           SRR5227305    source_name: Huh7_vehicle_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536421           SRR5227306    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536422           SRR5227307    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_60 min_RNA-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: polyA-seq
SRP098789       SRX2536423           SRR5227308    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536424           SRR5227309    source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_60 min_RNA-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: polyA-seq
SRP098789       SRX2536425           SRR5227310    source_name: Huh7_vehicle_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536426           SRR5227311    source_name: Huh7_vehicle_60 min_RNA-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: polyA-seq
SRP098789       SRX2536427           SRR5227312    source_name: Huh7_vehicle_60 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: ribo-seq
SRP098789       SRX2536428           SRR5227313    source_name: Huh7_vehicle_60 min_RNA-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">60</span> min <span class="o">||</span> library type: polyA-seq
</pre></div>
</div>
<p>The example here came from a Ribosome profiling study and consists of a collection of
both Ribo-seq and RNA-seq samples. In order to filter out only the RNA-seq samples,
we could pass it an extra flag of <cite>–assay</cite> and then filter RNA-seq samples.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb sra-metadata --db data/SRAmetadb.sqlite SRP098789 --assay <span class="p">|</span> grep RNA-Seq
SRP098789       SRX2536422           SRR5227307    RNA-Seq          SINGLE -
SRP098789       SRX2536424           SRR5227309    RNA-Seq          SINGLE -
SRP098789       SRX2536426           SRR5227311    RNA-Seq          SINGLE -
SRP098789       SRX2536428           SRR5227313    RNA-Seq          SINGLE -
</pre></div>
</div>
<p>A more complicated example will consist of multiple assays. For example <cite>SRP000941</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb sra-metadata --db data/SRAmetadb.sqlite SRP000941 --assay  <span class="p">|</span> tr -s <span class="s1">&#39;  &#39;</span> <span class="p">|</span> cut -f4 -d <span class="s1">&#39; &#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c
<span class="m">999</span> Bisulfite-Seq
<span class="m">768</span> ChIP-Seq
  <span class="m">1</span> library_strategy
<span class="m">121</span> OTHER
<span class="m">353</span> RNA-Seq
 <span class="m">28</span> WGS
</pre></div>
</div>
<p>Getting SRR for SRX:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb srx-to-srr --db data/SRAmetadb.sqlite SRX217956  SRX2536403 --desc
experiment_accession run_accession study_accession sample_attribute
SRX217956            SRR649752     SRP017942       source_name: 3T3 cells <span class="o">||</span> treatment: control <span class="o">||</span> cell line: 3T3 cells <span class="o">||</span> assay type: Riboseq
SRX2536403           SRR5227288    SRP098789       source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
</pre></div>
</div>
<p>Get SRX for SRR:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb srr-to-srx --db data/SRAmetadb.sqlite SRR5227288 SRR649752 --desc
run_accession study_accession experiment_accession sample_attribute
SRR649752     SRP017942       SRX217956            source_name: 3T3 cells <span class="o">||</span> treatment: control <span class="o">||</span> cell line: 3T3 cells <span class="o">||</span> assay type: Riboseq
SRR5227288    SRP098789       SRX2536403           source_name: Huh7_1.5 Ã‚ÂµM PF-067446846_10 min_ribo-seq <span class="o">||</span> cell line: Huh7 <span class="o">||</span> treatment time: <span class="m">10</span> min <span class="o">||</span> library type: ribo-seq
</pre></div>
</div>
<p>Piped downloads:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb sra-metadata --db data/SRAmetadb.sqlite --assay SRP098789 <span class="p">|</span> pysradb download --db data/SRAmetadb.sqlite
</pre></div>
</div>
<div class="section" id="conversions">
<h2>Conversions<a class="headerlink" href="#conversions" title="Permalink to this headline">¶</a></h2>
<p>SRP to GSE:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb srp-to-gse SRP090415
study_accession study_alias
SRP090415       GSE87328
</pre></div>
</div>
<p>But not all SRPs will have an associated GEO id (GSE):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb srp-to-gse SRP029589
study_accession study_alias
SRP029589       PRJNA218051
</pre></div>
</div>
<p>GSE to SRP:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pysradb gse-to-srp GSE87328
study_alias study_accession
GSE87328    SRP090415
</pre></div>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="installation.html" title="previous chapter (use the left arrow)">Installation</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="usage.html" title="next chapter (use the right arrow)">Usage</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pysradb 0.6.0 documentation</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2018, Saket Choudhary. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>